<div [formGroup]="form">
    <mat-form-field *ngIf="!exportType" floatLabel="always" appearance="outline" class="configuration--form-field">
        <mat-select [placeholder]="placeholder" [formControlName]="formControllerName"
            [compareWith]="helperService.compareObjects">
            <mat-option *ngFor="let option of options" [value]="option.value">
                {{ option.label }}
                <img *ngIf="form.value[formControllerName] === option.value"
                    src="assets/images/svgs/general/tick-pink.svg" class="selected-value-check-mark">
            </mat-option>

            <app-simple-text-search *ngIf="xeroAttributes" [page]="SimpleSearchPage.CONFIGURATION"
                [searchType]="SimpleSearchType.SELECT_FIELD" [form]="form"></app-simple-text-search>
            <div *ngFor="let option of xeroAttributes | search : form.value.searchOption">
                <mat-option [ngClass]="{'search-zero-state': option && option.value === 'No result found'}"
                    [matTooltip]="option.value" [matTooltipDisabled]="option.value.length <= 40"
                    matTooltipPosition="above" matTooltipClass="above" (click)="helperService.clearSearchText(form)"
                    [value]="{name: option.value, id: option.destination_id}">
                    <p (click)="$event.stopPropagation()" *ngIf="option.value === 'No result found'"
                        class="align-center italic">{{ option.value }}</p>
                    <p *ngIf="option.value !== 'No result found'">{{ option.value }}</p>
                    <img *ngIf="(form.value[formControllerName] | json) === ({name: option.value, id: option.destination_id} | json)"
                        src="assets/images/svgs/general/tick-pink.svg" class="selected-value-check-mark">
                </mat-option>
            </div>
        </mat-select>
        <div class="mat-select-arrow-closed"></div>
    </mat-form-field>
    <app-mandatory-error-message
        *ngIf="isFieldMandatory && form.controls[formControllerName].touched && !form.controls[formControllerName].valid && !form.controls[formControllerName].disabled"
        [listName]="mandatoryErrorListName" [customErrorMessage]="customErrorMessage"></app-mandatory-error-message>
    <div *ngIf="(formControllerName === 'reimbursableExportType' && form.value.reimbursableExportType) || (formControllerName === 'creditCardExportType' && form.value.creditCardExportType)"
        class="select-field--preview-text sub-text-color">
        <p *ngIf="formControllerName === 'reimbursableExportType' && !exportType ">Click <span
                class="select-field--preview-btn pointer"
                (click)="showXeroExportPreview(form.value.reimbursableExportType, null)">here</span> to Preivew on how
            it
            looks on Xero</p>
        <p *ngIf="formControllerName === 'creditCardExportType'  && !exportType || xeroAttributes ">Click <span
                class="select-field--preview-btn pointer"
                (click)="showXeroExportPreview(null, form.value.creditCardExportType)">here</span> to Preivew on how it
            looks on Xero</p>
    </div>

    <div *ngIf="formControllerName === 'autoMapEmployees'"
        class="select-field--select-example-section paragraph">
        <h5 *ngIf="form.value.autoMapEmployees === 'NAME'" class="sub-text-color">
            Example: Ryan Clark will map to Ryan Clark in Xero.
        </h5>
        <h5 *ngIf="form.value.autoMapEmployees === 'EMAIL'" class="sub-text-color">
            Example: ryan.clark@acme.com will map to ryan.clark@acme.com in Xero.
        </h5>
        <h5 *ngIf="form.value.autoMapEmployees === 'EMPLOYEE_CODE'" class="sub-text-color">
            Example: E0146 will map to E0146 in Xero.
        </h5>
    </div>
</div>
